<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>개인정보 유형별 현황</title>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>

<link rel="stylesheet" href="assets/css/common.css">
<link rel="stylesheet" href="assets/page-css/personal_information_type.page.css">
<script src="assets/js/common.js"></script>
<script src="assets/js/data.js"></script>
<script src="assets/page-js/personal_information_type.page.js"></script>
</head>
<body>
  <div class="brandbar"><div class="dot"></div> Privacy Monitor</div>
  <div class="pm-container">
    <div class="page-title"><span>개인정보 탐지 대시보드</span></div>
    <div class="pm-navwrap">
      <nav class="pm-nav" aria-label="주요 메뉴">
        <a href="detection_details.html">탐지 현황</a>
        <a href="personal_information_type.html">개인정보 유형</a>
        <a href="user_type.html">사용자별 현황</a>
      </nav>
    </div>



    <div class="max-w-6xl mx-auto p-4">
    <!-- 필터 카드 -->
    <section class="card" aria-label="필터">
      <div class="quick" aria-label="빠른 기간 선택">
        <button class="pill" data-range="today">오늘</button>
        <button class="pill" data-range="lastweek">지난 주</button>
        <button class="pill" data-range="lastmonth">지난 달</button>
        <span class="muted quick-desc" id="quickDesc"></span>
      </div>
      <div class="filters">
        <div class="field">
          <label for="from">시작 일자</label>
          <input type="date" id="from" />
        </div>
        <div class="field">
          <label for="to">종료 일자</label>
          <input type="date" id="to" />
        </div>
        <div class="field">
          <label for="type">개인정보 유형</label>
          <select id="type">
            <option value="">전체</option>
            <option>이름</option><option>전화번호</option><option>이메일</option><option>생년월일</option>
            <option>주민등록번호</option><option>외국인등록번호</option><option>운전면허번호</option><option>여권번호</option>
            <option>계좌번호</option><option>카드번호</option><option>IP</option><option>직책</option><option>조직/기관</option><option>얼굴이미지</option>
          </select>
        </div>
        <div class="field">
          <label for="source">탐지 유형</label>
          <select id="source">
            <option value="">전체</option>
            <option>텍스트</option><option>PDF</option><option>DOCX/DOC</option><option>HWPX/HWP</option><option>XLSX/XLS</option><option>PPTX</option><option>TXT</option><option>PNG</option><option>JPG/JPEG</option><option>BMP</option><option>WEBP</option><option>GIF</option><option>TIFF</option>
          </select>
        </div>
        <div class="status-search-row">
          <div class="field">
            <label for="status">상태</label>
            <select id="status">
              <option value="">전체</option>
              <option>성공</option><option>실패</option><option>개인 식별 의심</option>
            </select>
          </div>
          <div class="field search">
            <label for="q">검색(IP/OS/컴퓨터이름/LLM/파일명)</label>
            <input id="q" placeholder="예: 192.168.1.1, Windows, PC-001, GPT-4, report.pdf..." />
          </div>
        </div>
      </div>
      <div class="toolbar">
        <div class="muted" id="summary">총 0건</div>
        <div class="actions">
          <button class="btn ghost" id="resetBtn">초기화</button>
          <button class="btn primary" id="applyBtn">적용</button>
        </div>
      </div>
    </section>

    <section class="card chart-card" aria-label="개인정보 유형 그래프">
      <h2 class="chart-title">개인정보 유형 분포</h2>
      <div class="chart-height">
        <canvas id="barChart"></canvas>
      </div>
    </section>

    <!-- 목록 -->
    <section class="card mt-16" aria-label="목록">
      <div class="table-wrap">
        <table aria-describedby="summary">
          <thead>
            <tr>
              <th class="w-100 center">상태</th>
              <th class="w-120 center">일자</th>
              <th class="w-110 center">IP</th><!-- 추가 열 -->
              <th class="w-220 center">개인정보 유형</th>
              <th class="w-140 center">소스 유형</th>
              <th class="center">파일명</th>
              <th class="center">실패 사유</th>
            </tr>
          </thead>
          <tbody id="rows"></tbody>
        </table>
      </div>
      <div class="empty" id="empty" hidden>조건에 맞는 결과가 없습니다.</div>
    </section>
    </div>
  </div>

  <!-- 세부 내용 팝업 모달 -->
  <div id="detailModal" class="modal">
    <div class="modal-content card">
      <div class="modal-header">
        <div>
          <h3>탐지 결과 상세</h3>
          <button id="closeModal" class="modal-close-btn">&times;</button>
        </div>
      </div>
      <div class="modal-body">
        <div class="detail-sections">
          <!-- 기본 정보 -->
          <div class="detail-section">
            <h4>기본 정보</h4>
            <div class="detail-grid">
              <div class="detail-item">
                <div>상태</div>
                <div id="detail-status">-</div>
              </div>
              <div class="detail-item">
                <div>IP</div>
                <div id="detail-emp">-</div>
              </div>
              <div class="detail-item wide">
                <div>일자</div>
                <div id="detail-date">-</div>
              </div>
            </div>
          </div>
          
          <!-- 시스템 정보 -->
          <div class="detail-section">
            <h4>시스템 정보</h4>
            <div class="detail-grid">
              <div class="detail-item wide">
                <div>IP 주소</div>
                <div id="detail-ip">-</div>
              </div>
              <div class="detail-item wide">
                <div>운영체제</div>
                <div id="detail-os">-</div>
              </div>
              <div class="detail-item fit-content">
                <div>컴퓨터 이름</div>
                <div id="detail-computer">-</div>
              </div>
            </div>
          </div>
          
          <!-- 웹 정보 -->
          <div class="detail-section">
            <h4>웹 정보</h4>
            <div class="detail-grid">
              <div class="detail-item">
                <div>브라우저</div>
                <div id="detail-browser">-</div>
              </div>
              <div class="detail-item">
                <div>LLM</div>
                <div id="detail-llm">-</div>
              </div>
              <div class="detail-item fit-content max-width">
                <div>URL</div>
                <div id="detail-url" class="url-text">-</div>
              </div>
            </div>
          </div>
          
          <!-- 탐지 정보 -->
          <div class="detail-section">
            <h4>탐지 정보</h4>
            <div class="detail-grid">
              <div class="detail-item">
                <div>탐지 유형</div>
                <div id="detail-source">-</div>
              </div>
              <div class="detail-item padded fit-content" id="filename-section">
                <div>파일명</div>
                <div id="detail-filename" class="break-all">-</div>
              </div>
              <div class="detail-item padded fit-content">
                <div>탐지 결과</div>
                <div id="detail-types">-</div>
              </div>
              <div class="detail-item padded fit-content" id="validation-section">
                <div>검증 결과</div>
                <div id="detail-validation">-</div>
              </div>
              <div class="detail-item padded fit-content">
                <div>개인 식별 의심</div>
                <div id="detail-suspicious">-</div>
              </div>
              <div class="detail-item padded fit-content" id="reason-section">
                <div>실패 사유</div>
                <div id="detail-reason">-</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<!-- (선택) 우측 상단 유저 박스 -->
<div class="pm-userbox" role="group" aria-label="사용자 메뉴">
  <span class="emp" title="사번"><span class="dot" aria-hidden="true"></span> <span id="userEmp">S0001</span></span>
  <button type="button" class="logout account-btn" id="accountBtn">계정 관리</button>
  <button type="button" class="logout">로그아웃</button>
</div>
</body>
</html>