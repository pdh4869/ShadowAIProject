<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<title>대시보드 로그인</title>
<style>
    :root{--bg:#0f172a; --card:#0b1220; --text:#e5e7eb; --muted:#94a3b8; --brand:#3b82f6; --brand-2:#2563eb; --error:#ef4444; --border:#1f2937;}
    html,body{ height:100%; }
    body{ margin:0; display:grid; place-items:center; background: radial-gradient(1000px 600px at 75% -10%, rgba(37,99,235,.15), transparent), radial-gradient(800px 500px at 20% 110%, rgba(20,184,166,.1), transparent), var(--bg); color:var(--text); font-family:system-ui, sans-serif; }
    .card{ width:min(440px, 92vw); background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)) padding-box, linear-gradient(180deg, rgba(59,130,246,.35), rgba(20,184,166,.25)) border-box; border:1px solid transparent; border-radius:16px; box-shadow: 0 10px 40px rgba(0,0,0,.25); overflow:hidden; }
    .head{ padding:22px 22px 10px; text-align: left; }
    h1{ margin:0; font-size:22px; }
    .subtitle{ margin:6px 0 0; color:var(--muted); font-size:13px; }
    .body{ padding:18px 22px 22px; display:grid; gap:16px; }
    
    /* ▼▼▼ (핵심 수정) 이 부분을 교체합니다. ▼▼▼ */
    .field {
        display: flex;
        flex-direction: column;
        gap: 8px;
        align-items: flex-start; /* 자식 요소(label, input)를 가로축 시작점(왼쪽)에 정렬 */
    }
    /* ▲▲▲ */

    label{ font-size:12px; color:var(--muted); }
    input{width:100%; box-sizing: border-box; padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:#0b1220; color:var(--text); outline:none;}
    input:focus{ border-color:var(--brand); box-shadow:0 0 0 3px rgba(59,130,246,.15); }
    .btn{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--brand-2); background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:white; font-weight:700; cursor:pointer;}
    .btn:disabled{ opacity:.6; cursor:not-allowed; }
    .error{ color:var(--error); font-size:12px; min-height:16px; text-align: right; }
    .brand{ display:flex; gap:10px; align-items:center; padding:16px 22px 0; color:#93c5fd; font-weight:700; letter-spacing:.4px; }
    .brand .dot{ width:10px; height:10px; border-radius:50%; background:conic-gradient(from 0deg, #3b82f6, #14b8a6, #8b5cf6, #3b82f6); filter:blur(.2px); }
</style>
</head>
<body>
<main class="card">
    <div class="brand"><div class="dot"></div> Privacy Monitor</div>
    <div class="head">
        <h1>대시보드 로그인</h1>
        <p class="subtitle">접근을 위해 ID와 비밀번호를 입력하세요.</p>
    </div>
    <form class="body" id="loginForm">
        <div class="field"><label for="emp">ID (사번)</label><input id="emp" required /></div>
        <div class="field"><label for="pwd">비밀번호</label><input id="pwd" type="password" required /></div>
        <div class="error" id="error"></div>
        <button class="btn" type="submit" id="submitBtn">로그인</button>
    </form>
</main>
<script>
    const form = document.getElementById('loginForm');
    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const errorDiv = document.getElementById('error');
        const submitBtn = document.getElementById('submitBtn');
        errorDiv.textContent = '';
        submitBtn.disabled = true;

        try {
            const response = await fetch('/api/dashboard_login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    employee_id: document.getElementById('emp').value,
                    password: document.getElementById('pwd').value
                })
            });
            if (response.ok) {
                window.location.href = '/dashboard';
            } else {
                const data = await response.json();
                errorDiv.textContent = data.message || '로그인 실패';
            }
        } catch (err) {
            errorDiv.textContent = '서버 연결 실패';
        } finally {
            submitBtn.disabled = false;
        }
    });
</script>
</body>
</html>