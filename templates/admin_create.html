{% extends "admin_base.html" %}
{% block title %}새 관리자 추가{% endblock %}
{% block page_title %}<div style="font-size:28px; font-weight:800; text-align:center; margin: 8px 0 10px 0;">새 관리자 추가</div>{% endblock %}
{% block content %}
<style>
    .card{ max-width: 600px; margin: 0 auto; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)) padding-box, linear-gradient(180deg, rgba(59,130,246,.25), rgba(20,184,166,.18)) border-box; border:1px solid transparent; border-radius:16px; box-shadow: 0 10px 40px rgba(0,0,0,.25); }
    .form-body{ padding: 24px; display: grid; gap: 16px; }
    .field{ display:flex; flex-direction:column; gap:8px; }
    label{ font-size:12px; color:var(--muted); }
    input, select{width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#0b1220; color:var(--text); outline:none;}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:var(--brand);font-weight:700;cursor:pointer;color:#fff;}
    .flash-messages { list-style: none; padding: 0; margin: 0 0 16px 0; }
    .flash-messages li { padding: 12px; border-radius: 8px; font-size: 14px; }
    .flash-messages .error { background-color: rgba(239, 68, 68, 0.2); color: #f87171; }
    .flash-messages .success { background-color: rgba(16, 185, 129, 0.2); color: #34d399; }
</style>

<div class="card">
    <form method="POST" action="{{ url_for('admin_create') }}" class="form-body">
        
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="flash-messages">
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}

        <div class="field">
            <label for="employee_id">ID (사번)</label>
            <input id="employee_id" name="employee_id" required>
        </div>
        <div class="field">
            <label for="password">비밀번호</label>
            <input id="password" name="password" type="password" required>
        </div>
        <div class="field">
            <label for="privilege">권한</label>
            <select id="privilege" name="privilege">
                <option value="general">일반 관리자</option>
                <option value="super">최고 관리자</option>
            </select>
        </div>
        <div class="flex justify-end">
            <button type="submit" class="btn">계정 생성</button>
        </div>
    </form>
</div>
{% endblock %}